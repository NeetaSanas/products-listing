(self.webpackChunkassignment=self.webpackChunkassignment||[]).push([[758],{7758:(t,o,r)=>{"use strict";r.r(o),r.d(o,{ProductsModule:()=>O});var n=r(5887),e=r(3735),c=r(8583),i=r(665),d=r(4220);const s=(0,d.ZF)("products"),u=(0,d.P1)(s,t=>t.products);(0,d.P1)(s,(t,o)=>t.products.find(t=>t.id===o.id));var p=r(2700),l=r(7716);const a=function(t){return["edit",t]};function g(t,o){if(1&t){const t=l.EpF();l.TgZ(0,"div",12),l.TgZ(1,"h2"),l._uU(2),l.qZA(),l.TgZ(3,"p"),l._uU(4),l.qZA(),l.TgZ(5,"button",6),l._uU(6,"Update"),l.qZA(),l._uU(7,"\xa0\xa0 "),l.TgZ(8,"button",13),l.NdJ("click",function(){const o=l.CHM(t).$implicit;return l.oxw().deleteProduct(o.id)}),l._uU(9,"Delete"),l.qZA(),l.qZA()}if(2&t){const t=o.$implicit;l.xp6(2),l.AsE("",t.name," \xa0\xa0\xa0\xa0",t.price," "),l.xp6(2),l.Oqu(t.description),l.xp6(1),l.Q6J("routerLink",l.VKq(4,a,t.id))}}function m(t,o){1&t&&(l.TgZ(0,"div",12),l.TgZ(1,"h1"),l._uU(2,"No Products added"),l.qZA(),l.qZA())}const Z=function(){return["/products/add"]};let f=(()=>{class t{constructor(t,o){this.store=t,this.router=o,this.NoProducts=!1}ngOnInit(){this.products=this.store.select(u),this.store.dispatch((0,p.QD)()),console.log(this.products)}deleteProduct(t){console.log(t),confirm("Are you sure you want to delete?")&&(console.log(t),this.store.dispatch((0,p.Ir)({id:t})),this.router.navigate(["/products"])),this.products||(this.NoProducts=!0)}viewProduct(){}}return t.\u0275fac=function(o){return new(o||t)(l.Y36(d.yh),l.Y36(e.F0))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-products-list"]],decls:21,vars:6,consts:[[1,"outer"],[1,"list-col1"],["id","products",1,"mt-2","pt-3"],["fxLayout","column","fxLayoutAlign","center center",1,"title-section","p-2","mb-2"],[1,"secondary-text-color"],[2,"margin-bottom","10px"],[3,"routerLink"],[1,"container"],["class","card",4,"ngFor","ngForOf"],["class","card",4,"ngIf"],[1,"list-col2"],[2,"width","30%"],[1,"card"],[3,"click"]],template:function(t,o){1&t&&(l._UZ(0,"br"),l._UZ(1,"br"),l.TgZ(2,"div",0),l.TgZ(3,"div",1),l.TgZ(4,"div",2),l.TgZ(5,"div",3),l.TgZ(6,"h1"),l._uU(7,"PRODUCTS LIST"),l.qZA(),l.TgZ(8,"p",4),l._uU(9,"Explore products of your choice..."),l.qZA(),l.qZA(),l.TgZ(10,"div",5),l.TgZ(11,"button",6),l._uU(12,"Add Product"),l.qZA(),l.qZA(),l.TgZ(13,"div",7),l.YNc(14,g,10,6,"div",8),l.ALo(15,"async"),l.qZA(),l.YNc(16,m,3,0,"div",9),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"div",10),l._UZ(18,"div",11),l._UZ(19,"router-outlet"),l._UZ(20,"div",11),l.qZA()),2&t&&(l.xp6(11),l.Q6J("routerLink",l.DdM(5,Z)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(15,3,o.products)),l.xp6(2),l.Q6J("ngIf",o.NoProducts))},directives:[e.rH,c.sg,c.O5,e.lC],pipes:[c.Ov],styles:[".outer[_ngcontent-%COMP%]{display:flex;flex-direction:row}.outer[_ngcontent-%COMP%]   .list-col1[_ngcontent-%COMP%]{width:100%;flex-direction:column}.list-col2[_ngcontent-%COMP%]{margin-top:-40px!important;width:100%;flex-direction:row}.list-col2[_ngcontent-%COMP%], .secondary-text-color[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-auto-rows:150px;grid-gap:30px;grid-row-gap:40px;margin-top:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{transition:all .5s ease-out;border:1px solid #000;border-radius:5px;padding:10px;grid-row-gap:20px;row-gap:20px;margin-bottom:10px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{height:100px;width:100%}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;background-color:#1976d2;color:#fff;border-radius:20px;font-size:16px;padding:5px 7px;border:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{margin-top:-20px}@media only screen and (max-width: 800px) and (min-width: 550px){.container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media only screen and (max-width: 550px){.container[_ngcontent-%COMP%]{grid-template-columns:2fr}}"]}),t})();function h(t,o){1&t&&(l.TgZ(0,"div"),l.TgZ(1,"p"),l._uU(2,"Required"),l.qZA(),l.qZA())}function x(t,o){1&t&&(l.TgZ(0,"div"),l.TgZ(1,"p"),l._uU(2,"Required"),l.qZA(),l.qZA())}function _(t,o){1&t&&(l.TgZ(0,"div"),l.TgZ(1,"p"),l._uU(2,"Required"),l.qZA(),l.qZA())}let v=(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.productForm=new i.cw({name:new i.NI(null,i.kI.required),description:new i.NI(null,i.kI.required),price:new i.NI(null,i.kI.required)})}onAddProduct(){console.log(this.productForm),this.productForm.valid&&this.store.dispatch((0,p.gK)({product:{id:"",name:this.productForm.value.name,description:this.productForm.value.description,price:this.productForm.value.price}}))}}return t.\u0275fac=function(o){return new(o||t)(l.Y36(d.yh))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-add-product"]],decls:28,vars:5,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"h-100","container"],["fxFlex","90","fxFlex.gt-sm","30","fxFlex.sm","60",2,"background-color","#f3f3f3",3,"formGroup","ngSubmit"],[1,"card-inner",2,"margin-top","-20px"],[1,"form-control"],["type","text","formControlName","name"],[4,"ngIf"],["type","text","formControlName","price"],["type","text","formControlName","description"],[1,"submit-button-container"],["type","submit",1,"w-100","submit-button",3,"disabled"]],template:function(t,o){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"form",1),l.NdJ("ngSubmit",function(){return o.onAddProduct()}),l.TgZ(2,"h3"),l._uU(3,"ADD PRODUCT"),l.qZA(),l._UZ(4,"hr"),l.TgZ(5,"div",2),l.TgZ(6,"div",3),l.TgZ(7,"label"),l._uU(8,"Name"),l.qZA(),l._UZ(9,"input",4),l.YNc(10,h,3,0,"div",5),l.qZA(),l._UZ(11,"br"),l.TgZ(12,"div",3),l.TgZ(13,"label"),l._uU(14,"Price"),l.qZA(),l._UZ(15,"input",6),l.YNc(16,x,3,0,"div",5),l.qZA(),l._UZ(17,"br"),l.TgZ(18,"div",3),l.TgZ(19,"label"),l._uU(20,"Description"),l.qZA(),l._UZ(21,"input",7),l.YNc(22,_,3,0,"div",5),l.qZA(),l._UZ(23,"br"),l.TgZ(24,"div",8),l._UZ(25,"br"),l.TgZ(26,"button",9),l._uU(27,"Add Product"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(1),l.Q6J("formGroup",o.productForm),l.xp6(9),l.Q6J("ngIf",(null==o.productForm.controls.name.errors?null:o.productForm.controls.name.errors.required)&&o.productForm.controls.name.touched),l.xp6(6),l.Q6J("ngIf",(null==o.productForm.controls.price.errors?null:o.productForm.controls.price.errors.required)&&o.productForm.controls.price.touched),l.xp6(6),l.Q6J("ngIf",(null==o.productForm.controls.description.errors?null:o.productForm.controls.description.errors.required)&&o.productForm.controls.description.touched),l.xp6(4),l.Q6J("disabled",!o.productForm.valid))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,c.O5],styles:[".secondary-text-color[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}p[_ngcontent-%COMP%]{font-size:12px;color:red;justify-content:left}"]}),t})();var q=r(8002),A=r(1841);let P=(()=>{class t{constructor(t,o){this.http=t,this.store=o}getProducts(){return this.http.get("http://localhost:3000/products").pipe((0,q.U)(t=>{const o=[];for(let r in t)o.push(Object.assign(Object.assign({},t[r]),{id:r}));return o}))}addProduct(t){return this.http.post("http://localhost:3000/products",t)}}return t.\u0275fac=function(o){return new(o||t)(l.LFG(A.eN),l.LFG(d.yh))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=r(9773);let T=(()=>{class t{constructor(t,o,r){this.actions$=t,this.productsService=o,this.store=r,this.loadProducts$=(0,n.GW)(()=>this.actions$.pipe((0,n.l4)(p.QD),(0,b.zg)(t=>this.productsService.getProducts().pipe((0,q.U)(t=>(0,p.UE)({products:t})))))),this.addProduct$=(0,n.GW)(()=>this.actions$.pipe((0,n.l4)(p.gK),(0,b.zg)(t=>this.productsService.addProduct(t.product).pipe((0,q.U)(o=>{console.log(o);const r=Object.assign(Object.assign({},t.product),{id:o.name});return(0,p.NV)({product:r})})))))}}return t.\u0275fac=function(o){return new(o||t)(l.LFG(n.eX),l.LFG(P),l.LFG(d.yh))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const U=[{path:"",component:f,children:[{path:"add",component:v}]}];let O=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[P],imports:[[c.ez,i.UX,e.Bz.forChild(U),n.sQ.forFeature([T])]]}),t})()}}]);